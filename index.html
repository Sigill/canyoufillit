<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>CanYouFillIt</title>
	<link rel="stylesheet" href="bootstrap.css">
	<style>
body {
	background-color: black;
	color: white;
	font-family: Arial, sans-serif;
	font-size: 16px;
}
.page-header {
	padding-bottom: 9px;
	margin: 40px 0 20px;
}
.text-center {
	text-align: center;
}
.center-block {
	display: block;
	margin-right: auto;
	margin-left: auto;
}
h1 {
	font-size: 50px;
	font-weight: 500;
}
	</style>
</head>
<body>
<div class="container">
	<div class="col-xs-12 col-md-6 col-md-offset-3 text-center">
		<div class="page-header">
			<h1>CanYouFillIt</h1>
		</div>
		<p>CanYouFillIt is a Breakout-like game mixed with snooker. It is freely inspired by the game available at <a href="http://gimmefrictionbaby.com">gimmefrictionbaby.com</a>. It has been developed with HTML5 technologies, so it should work on any modern browser (including mobile ones).</p>
		<p><a class="btn btn-primary btn-lg btn-block" href="play.html" title="Play CanYouFillIt"><strong>Play now</strong></a></p>
		<p>The game has been designed to be available <strong>offline</strong>. Play once, and bookmark the page. You will then be able to play without any internet connection.</p>
		<p>If your browser is <strong>Firefox</strong> or <strong>Chrome</strong>, you can install the game as an Open Web App.</p>
		<p><a id="firefox-install-btn" class="btn btn-default btn-lg btn-block" href="#">Install in Firefox</a></p>
		<p><a id="firefox-install-package-btn" class="btn btn-default btn-lg btn-block" href="#">Install package in Firefox</a></p>
		<p><a class="btn btn-default btn-lg btn-block" href="#">Install in Chrome&nbsp;(comming soon)</a></p>
		<p>You can also install it on your <strong>Android</strong> device.</p>
		<p>Or on your <strong>FirefoxOS</strong> device.</p>
	</div>
</div>
<script>
// TODO Use checkInstall to enable the install link
// https://developer.mozilla.org/fr/Apps/Quickstart/Build/Votre_premier_application
var firefox_install_button = document.getElementById('firefox-install-btn');
firefox_install_button.addEventListener('click', function(evt) {
	evt.preventDefault();

	if('mozApps' in navigator) {
		var request = navigator.mozApps.install(location.href + 'manifest.webapp');
		request.onsuccess = function() {
			alert('CanYouFillIt has been successfully installed.');
		};
		request.onerror = function() {
			alert('Installation failed: ' + this.error.name);
		};
	} else {
		alert('This functionality is only available on the Firefox platform.');
	}
});

var firefox_install_package_button = document.getElementById('firefox-install-package-btn');
firefox_install_package_button.addEventListener('click', function(evt) {
	evt.preventDefault();

	if('mozApps' in navigator) {
		var request = navigator.mozApps.installPackage(location.href + 'package.webapp');
		request.onsuccess = function() {
			alert('CanYouFillIt has been successfully installed.');
		};
		request.onerror = function() {
			alert('Installation failed: ' + this.error.name);
		};
	} else {
		alert('This functionality is only available on the Firefox platform.');
	}
});

</script>
</body>
</html>
